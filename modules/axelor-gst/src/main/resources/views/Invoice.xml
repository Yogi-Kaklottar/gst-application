<?xml version="1.0" encoding="UTF-8"?>
<object-views xmlns="http://axelor.com/xml/ns/object-views"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://axelor.com/xml/ns/object-views http://axel or.com/xml/ns/object-views/object-views_5.2.xsd">

  <grid name="gst-invoice-grid" title="Invoice" model="com.axelor.gst.db.Invoice">
  <field name="status" />
  <field name="company" />
  <field name="reference" />
  <field name="curruntdate" />
  <field name="priority" />
  <field name="party" />
  <field name="partycontact" />
  <field name="invoiceaddress" />
  <field name="shippingaddress" />
  <field name="useinvoiceaddressasshipping" />
  <field name="netamount" />
  <field name="netigst" />
  <field name="netcsgst" />
  <field name="netsgst" />
  <field name="grossamount" />
  <field name="invoiceitem" />

  </grid>

  <form name="gst-invoice-form" title="Invoiceline"   model="com.axelor.gst.db.Invoice"  onSave="action-gst-method-invoice-onsave" onNew="action-gst-attrs-invoice-load,action-gst-record-invoice-company-default">
    <panel>
      <panel title="Overview" colSpan="8">
       <field name="status" widget="NavSelect"  colSpan="12" />
       </panel>
       <panel colSpan="4">
         <button name="btnValidate"  title="validate" showIf="status == 'Draft'" onClick="action-gst-invoice-onclick-validate" colSpan="12"/>
         <button name="btnPaid"  title="Paid" showIf="status == 'Validated'" onClick="action-gst-invoice-onclick-paid" colSpan="12"/>
         <button name="btnCancel"  title="Cancel"  colSpan="12"/>

       </panel>
     </panel>
     <panel>
      <field name="company" />
      <field name="reference" />
      <field name="curruntdate" />
      <field name="priority" />
      <field name="party"/>
      <field name="partycontact" />
      <field name="invoiceaddress" colSpan="12" onChange="change-action-gst-attrs-invoice-shippingaddress"/>
      <field name="useinvoiceaddressasshipping" colSpan="4"/>
       <field name="shippingaddress" colSpan="8" />

  </panel>
  <panel>
     <field name="invoiceitem"   colSpan="12" />
  </panel>
  <panel>
      <field name="netamount" />
      <field name="netigst" />
      <field name="netcsgst" />
      <field name="netsgst" />
      <field name="grossamount" />

    </panel>
    </form>

   <action-attrs name="action-gst-attrs-invoice-load">
    <attribute name="value" for="curruntdate" expr="eval: __datetime__" />
   </action-attrs>

   <action-record name="action-gst-record-invoice-company-default" model="com.axelor.gst.db.Company">
    <field name="company" expr="eval: #{__self__.name}" />
  </action-record>



  <action-attrs name="change-action-gst-attrs-invoice-shippingaddress">
    <attribute name="value" expr="eval: __this__.invoiceaddress" for="shippingaddress" if="!useinvoiceaddressasshipping"/>
  </action-attrs>




   <action-method name="action-gst-invoice-onclick-validate">
      <call class="com.app.gst.SquenceDataManage" method="setinvoiceSequence" />
    </action-method>

    <action-method name="action-gst-method-invoice-onsave">
      <call class="com.app.gst.InvoicelineData" method="setInvoiceData" />
    </action-method>


  </object-views>
